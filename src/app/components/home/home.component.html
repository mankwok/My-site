<div *ngIf="auth.user | async; then authenticated else guest">
  <!-- template will replace this div -->
</div>

<!-- User NOT logged in -->
<ng-template #guest>
  <mat-card>
    <mat-card-title>Howdy Guest</mat-card-title>
    <mat-card-content>Please login first!</mat-card-content>
  </mat-card>
</ng-template>

<!-- User logged in -->
<ng-template #authenticated>
  <mat-card>
    <div *ngIf="auth.user | async as user">
      <mat-card-title>Howdy {{ user.displayName }}</mat-card-title>
      <mat-card-content><img [src]="user.photoURL">
        <p>UID: {{ user.uid }}</p>
        <p>Favorite Color: {{ user?.favoriteColor }} </p>
        <button mat-raised-button color="primary" (click)="auth.signOut()">
          Logout
        </button>
      </mat-card-content>
    </div>
  </mat-card>
</ng-template>